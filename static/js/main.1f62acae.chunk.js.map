{"version":3,"sources":["api/consts.ts","api/api.ts","components/CharacterCard/CharaterCard.tsx","components/CharacterCardList/CharacterCardList.tsx","components/CharacterStats/CharacterStats.tsx","components/CharacterFilters/CharacterFilters.tsx","App.tsx","index.tsx"],"names":["CHARACTER","getData","url","fetch","then","response","json","getMoreCharacters","pageNumber","CharacterCard","card","image","origin","name","status","imageUrl","className","src","alt","classNames","characterCard__status_red","characterCard__status_gray","CharacterList","characterCards","setSelectedId","map","onClick","id","CharacterStats","selectedId","closeStats","useState","character","setCharacter","lastEpisode","setLastEpisode","useEffect","data","episode","length","type","gender","species","color","height","width","CharacterFilters","selectedFilters","setSelectedFilters","filter","options","setOptions","value","label","isMulti","onChange","filters","placeholder","App","isLoading","setIsLoading","characters","setCharacters","setPageNumber","results","preparedCharacters","useMemo","preparedFilters","some","element","includes","currentPageNumber","newPageNumber","prevData","disabled","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1f62acae.chunk.js","sourcesContent":["export const BASE_URL = 'https://rickandmortyapi.com/api/';\nexport const CHARACTER = 'character';\n","import { Card, CharacterCards } from '../components/types';\nimport { BASE_URL, CHARACTER } from './consts';\n\nexport const getData = (url: string) => (\n  fetch(`${BASE_URL}/${url}`)\n    .then(response => response.json())\n);\n\nexport const get = (url: string) => (\n  fetch(url)\n    .then(response => response.json())\n);\n\nexport const getMoreCharacters = (pageNumber: number): Promise<CharacterCards> => (\n  getData(`${CHARACTER}/?page=${pageNumber}`)\n);\n\nexport const getSelectedCharacter = (id: number): Promise<Card> => (\n  getData(`${CHARACTER}/${id}`)\n);\n","import React from 'react';\nimport classNames from 'classnames';\nimport { Card } from '../types';\nimport './CharaterCard.scss';\n\ntype Props = {\n  card: Card;\n};\n\nexport const CharacterCard: React.FC<Props> = ({ card }) => {\n  const {\n    image, origin, name, status,\n  } = card;\n  const imageUrl = image;\n\n  return (\n    <>\n      <img\n        className=\"characterCard__img\"\n        src={imageUrl}\n        alt={card.name}\n      />\n\n      <div className=\"characterCard__wrapper\">\n        <div className=\"characterCard__name\">\n          {name}\n        </div>\n\n        <div className=\"characterCard__info\">\n          <div className={classNames('characterCard__status',\n            { characterCard__status_red: status === 'Dead' },\n            { characterCard__status_gray: status === 'unknown' })}\n          >\n            {status}\n          </div>\n\n          <div className=\"characterCard__location\">\n            <span className=\"characterCard__location-title\">\n              Location:\n            </span>\n            {' '}\n            {origin.name}\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n","import React from 'react';\nimport { Card } from '../types';\nimport { CharacterCard } from '../CharacterCard/CharaterCard';\nimport './characterList.scss';\n\ntype Props = {\n  setSelectedId: (id: number | null) => void;\n  characterCards: Card[];\n};\n\nexport const CharacterList: React.FC<Props> = ({ characterCards, setSelectedId }) => {\n  return (\n    <div className=\"characterList\">\n      {characterCards.map(card => (\n        <button\n          className=\"characterCard\"\n          key={card.id}\n          onClick={() => setSelectedId(card.id)}\n        >\n          <CharacterCard card={card} />\n        </button>\n      ))}\n    </div>\n  );\n};\n","import React, { useEffect, useState } from 'react';\nimport { Oval } from 'react-loader-spinner';\nimport { Card } from '../types';\nimport { getSelectedCharacter } from '../../api/api';\nimport './CharacterStats.scss';\n\ntype Props = {\n  selectedId: number;\n  closeStats: () => void;\n};\n\nexport const CharacterStats: React.FC<Props> = ({ selectedId, closeStats }: Props) => {\n  const [character, setCharacter] = useState<Card | null>(null);\n  const [lastEpisode, setLastEpisode] = useState<string>();\n\n  useEffect(() => {\n    setCharacter(null);\n    getSelectedCharacter(selectedId)\n      .then(data => {\n        setCharacter(data);\n      });\n    if (character?.episode) {\n      fetch(character?.episode[character?.episode.length - 1])\n        .then(data => data.json())\n        .then(data => setLastEpisode(data.name));\n    }\n  }, [selectedId]);\n\n  if (!character) {\n    return (\n      <div className=\"characterStats__content\">\n        <Oval\n          color=\"#000\"\n          height={150}\n          width={150}\n        />\n      </div>\n    );\n  }\n\n  return (\n    <>\n      <button\n        type=\"button\"\n        className=\"blur\"\n        onClick={() => closeStats()}\n      />\n      <div className=\"characterStats__content\">\n\n        <button\n          type=\"button\"\n          className=\"characterStats__closeBtn\"\n          onClick={() => closeStats()}\n        >\n          X\n        </button>\n\n        <img\n          className=\"characterStats__img\"\n          src={`${character.image}`}\n          alt={`${character.name}`}\n        />\n\n        <div className=\"characterStats__content__name\">\n          {character.name}\n        </div>\n\n        <table\n          className=\"characterStats\"\n        >\n          <tbody>\n            <tr>\n              <td className=\"characterStats__name\">\n                <span className=\"characterStats__info\">\n                  Gender:\n                  {' '}\n                  {character.gender}\n                </span>\n              </td>\n\n              <td className=\"characterStats__stat\">\n                <span className=\"characterStats__info\">\n                  Species:\n                  {' '}\n                  {character.species}\n                </span>\n              </td>\n\n              <td className=\"characterStats__stat\">\n                <span className=\"characterStats__info\">\n                  Location:\n                  {' '}\n                  {character.origin.name}\n                </span>\n              </td>\n\n              {lastEpisode && (\n                <td className=\"characterStats__stat\">\n                  <span className=\"characterStats__info\">\n                    Last episode:\n                    {' '}\n                    {lastEpisode}\n                  </span>\n                </td>\n              )}\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </>\n  );\n};\n","import React, { useEffect, useState } from 'react';\r\nimport Select, { MultiValue } from 'react-select';\r\nimport {ReactSelectOption} from \"../types\";\r\n\r\ninterface Props {\r\n  selectedFilters: MultiValue<ReactSelectOption<string>>;\r\n  setSelectedFilters: (filters: MultiValue<ReactSelectOption<string>>) => void;\r\n  className: string;\r\n  filter: string[];\r\n};\r\n\r\nexport const CharacterFilters: React.FC<Props> = ({\r\n  selectedFilters,setSelectedFilters, filter,}) => {\r\n  const [options, setOptions] = useState<MultiValue<ReactSelectOption<string>>>([]);\r\n\r\n  useEffect(() => {\r\n    setOptions(filter.map(type => ({\r\n      value: type,\r\n      label: type,\r\n    })))\r\n    }, []);\r\n\r\n  return (\r\n    <div className={'App__filters'}>\r\n      <Select\r\n        options={options}\r\n        isMulti\r\n        value={selectedFilters}\r\n        onChange={(filters) => setSelectedFilters(filters)}\r\n        placeholder={'Select species'}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n","import React, { useEffect, useMemo, useState } from 'react';\nimport './App.scss';\nimport { Oval } from 'react-loader-spinner';\nimport { MultiValue } from 'react-select';\nimport { getMoreCharacters } from './api/api';\nimport { Card, ReactSelectOption } from './components/types';\nimport { CharacterList } from './components/CharacterCardList/CharacterCardList';\nimport { CharacterStats } from './components/CharacterStats/CharacterStats';\nimport { CharacterFilters } from './components/CharacterFilters/CharacterFilters';\n\nexport const App: React.FC = () => {\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n  const [characters, setCharacters] = useState<Card[] | []>([]);\n  const [pageNumber, setPageNumber] = useState<number>(1);\n  const [selectedId, setSelectedId] = useState<number | null>(null);\n  const [selectedFilters, setSelectedFilters] = useState<MultiValue<ReactSelectOption<string>>>([]);\n\n  useEffect(() => {\n    setIsLoading(true);\n    getMoreCharacters(pageNumber)\n      .then(data => setCharacters(data.results));\n    setIsLoading(false);\n  }, []);\n\n  const loadMore = () => {\n    setIsLoading(true);\n    setPageNumber(currentPageNumber => {\n      const newPageNumber = currentPageNumber + 1;\n\n      getMoreCharacters(newPageNumber)\n        .then(data => {\n          setCharacters(prevData => [...prevData, ...data.results]);\n          setIsLoading(false);\n        });\n\n      return newPageNumber;\n    }), [pageNumber];\n  };\n\n  const preparedCharacters = useMemo(() => {\n    if (!selectedFilters.length) {\n      return characters;\n    }\n\n    const preparedFilters = selectedFilters.map(filter => filter.value);\n\n    const filterBySpecies = characters.filter(\n      character => preparedFilters.some(element => element.includes(character.species)),\n    );\n\n    return filterBySpecies;\n  }, [selectedFilters, characters]);\n\n  const species = [\n    'Human', 'Alien', 'Humanoid',\n    'Poopybutthole', 'Mythological', 'Unknown',\n    'Animal', 'Disease', 'Robot', 'Cronenberg', 'Planet',\n  ];\n\n  return (\n    <div className=\"App__wrapper\">\n      <div className=\"App__CharacterFilters\">\n        <CharacterFilters\n          selectedFilters={selectedFilters}\n          setSelectedFilters={setSelectedFilters}\n          className=\"App__filters\"\n          filter={species}\n        />\n      </div>\n\n      {!isLoading && !preparedCharacters.length\n      && <h2 className=\"App__noCharacters\">Have not characters</h2>}\n\n      <CharacterList\n        setSelectedId={setSelectedId}\n        characterCards={preparedCharacters}\n      />\n\n      {isLoading && !characters.length && (\n        <div className=\"App__loader\">\n          <Oval\n            color=\"#000\"\n            height={150}\n            width={150}\n          />\n        </div>\n      )}\n\n      {selectedId && (\n        <CharacterStats\n          selectedId={selectedId}\n          closeStats={() => setSelectedId(null)}\n        />\n      )}\n\n      <button\n        className=\"App__button\"\n        type=\"button\"\n        onClick={loadMore}\n        disabled={isLoading}\n      >\n        Load more\n      </button>\n    </div>\n  );\n};\n","import ReactDOM from 'react-dom';\nimport { App } from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}